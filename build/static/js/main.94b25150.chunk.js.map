{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Persons","shownPersons","deletePerson","map","person","key","name","number","onClick","Filter","filter","handleFilterChange","value","onChange","PersonForm","addName","newName","handleNameChange","newPhone","handlePhoneChange","onSubmit","type","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setNewName","setNewPhone","setNewFilter","errorMessage","setErrorMessage","notificationType","setNotificationType","useEffect","personService","initialPersons","toLowerCase","includes","event","target","preventDefault","oldIndex","findIndex","x","window","confirm","newPerson","setTimeout","catch","error","returnedPerson","concat","console","log","val","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.94b25150.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = ({shownPersons, deletePerson}) => \n( \n  <ul>\n    {shownPersons.map((person) => <li key={person.name}>{person.name} {person.number} <button onClick={() => deletePerson(person)}>delete</button></li>)}\n  </ul>\n)\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({filter, handleFilterChange}) =>\n(\n    <div>\n    Filter shown with <input value={filter}\n    onChange={handleFilterChange}/>\n    </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addName, newName, handleNameChange, newPhone, handlePhoneChange}) => \n{\n    return (\n        <form onSubmit={addName}>\n            <div>\n            name: <input value={newName}\n                        onChange={handleNameChange}/>\n                        <br/>\n            number: <input value={newPhone}\n                        onChange={handlePhoneChange}/>\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n\n    const errorStyle = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    const successStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    const style = (type === 'success') ? successStyle : errorStyle\n\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div style={style}>\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [ filter, setNewFilter ] = useState('')\n\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ notificationType, setNotificationType ] = useState('error')\n\n  const handleNameChange = (event) => { setNewName(event.target.value) }\n  const handlePhoneChange = (event) => { setNewPhone(event.target.value) }\n  const handleFilterChange = (event) => { setNewFilter(event.target.value) }\n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const nameFilter = (value) => value.name.toLowerCase().includes(filter.toLowerCase())\n  const shownPersons = persons.filter(nameFilter)\n\n  const addName = (event) => {\n    event.preventDefault();\n\n    const oldIndex = persons.findIndex(x => x.name === newName)\n    \n    if(oldIndex !== -1) \n    {\n      if(!window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`))\n        return\n\n      const newPerson = { ...persons[oldIndex], name: newName, number: newPhone}\n\n      personService\n      .update(newPerson.id, newPerson)\n      .then(() => {\n        setPersons(persons.map(person => (person.id === newPerson.id) ? newPerson : person))\n        setErrorMessage(`Updated ${newPerson.name}`)\n        setNotificationType(\"success\")\n        setTimeout(() => { setErrorMessage(null)}, 5000)\n      })\n      .catch(error => {\n        setPersons(persons.filter(person => (person.id !== newPerson.id)))\n        setErrorMessage(`Information of ${newPerson.name} has already been removed from server`)\n        setNotificationType(\"error\")\n        setTimeout(() => { setErrorMessage(null)}, 5000)\n      })\n    }\n    else\n    {\n      const newPerson = {\n        name: newName,\n        number: newPhone\n      }\n\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setErrorMessage(`Added ${newPerson.name}`)\n          setNotificationType(\"success\")\n          setTimeout(() => { setErrorMessage(null)}, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(`${error.response.data.error}`)\n          setNotificationType(\"error\")\n          setTimeout(() => { setErrorMessage(null)}, 5000)\n        })\n    }\n    setNewName('')\n    setNewPhone('')\n  }\n\n  const deleteName = (person) => \n  {\n    if(!window.confirm(`Delete ${person.name}?`)) return\n  \n    console.log(\"deleting person \", person)\n  \n    personService\n    .deletePerson(person.id)\n    .then(() => {\n      setPersons(persons.filter(val => val.id !== person.id))\n      setErrorMessage(`Deleted ${person.name}`)\n      setNotificationType(\"success\")\n      setTimeout(() => { setErrorMessage(null)}, 5000)\n    })\n  }\n  \n\n  return (\n    <div>\n      <h2>Phone book</h2>\n\n      <Notification message={errorMessage} type={notificationType}/>\n\n      <Filter filter={filter} handleFilterChange={handleFilterChange}/>\n      <h2>Add a new</h2>\n      <PersonForm addName={addName} \n                  newName={newName} \n                  handleNameChange={handleNameChange}\n                  newPhone={newPhone}\n                  handlePhoneChange={handlePhoneChange}\n                  />\n      <h2>Numbers</h2>\n      <Persons shownPersons={shownPersons} deletePerson={deleteName}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}